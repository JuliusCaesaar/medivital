<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&family=Roboto+Condensed&display=swap" rel="stylesheet">
    <title>Leitos</title>
    <style>
        body {
            font-family: 'Oswald', sans-serif;
            font-family: 'Roboto Condensed', sans-serif;
            text-align: center;
        }
        
        table {
            margin: 0 auto;
            border-collapse: collapse;
            width: 80%;
        }
        
        th, td {
            padding: 10px;
            border: 1px solid #ccc;
        }
        
        th {
            background-color: #f2f2f2;
        }

        .leito-ocupado {
            background-color: #FF5733;
        }
        
        .leito-livre {
            background-color: #A6CA65;
        }

        .title-leitos {
            background-color: #135252;
            padding: 10px;
            margin-bottom: 100px;
            margin-top: 3px;
        }

        .title-leitos h1 {
            color: #fff;
            font-size: 18px;
        }

        .botao {
            text-align: center;
            display: inline-block;
            margin: 40px;
        }

        .botao-voltar {
            margin: 0 auto;
            max-width: 300px;
            cursor: pointer;
            background-color: #1c9494;
            padding: 20px 30px;
            box-shadow: #135252 4px 4px 0px;
            transition: transform 200ms, box-shadow 200ms;
            color: #fff; 
        }

        .botao-voltar:active {
            transform: translateY(4px) translateX(4px);
            box-shadow: #135252 0px 0px 0px;
        }       

        .botao-voltar a {
            text-decoration: none;
            color: #fff;
            font-size: 20px;
        }

        .botao-voltar:hover {
            background-color: #4d9999;
            transition: 0.6s;
        }
    </style>

<script>
    // Adicione este script para buscar os dados do servidor e atualizar a tabela
    fetch('http://localhost:3000/leitos')
        .then(response => response.json())
        .then(data => {
            console.log('Dados dos leitos:', data);
            // Atualize a tabela conforme os dados recebidos
            updateLeitosTable(data);
        })
        .catch(error => {
            console.error('Erro ao obter dados dos leitos:', error);
        });

    function updateLeitosTable(leitosData) {
        // Lógica para atualizar a tabela com os dados recebidos
        leitosData.forEach(leito => {
            const leitoElement = document.querySelector(`[data-leito-id="${leito.id}"]`);
            if (leitoElement) {
                if (leito.ocupado) {
                    leitoElement.classList.add('leito-ocupado');
                } else {
                    leitoElement.classList.remove('leito-ocupado');
                }
            }
        });
    }
</script>


</head>
<body>

    <header>

        <div class="logo">
            <img src="./assets/img/Logo.jpg" alt="">
        </div>

        <nav class="desktop">
            <ul>
                <li><a href="./paginainicial.html">Boas vindas</a></li>
                <li><a href="./home.html">Página Inicial</a></li>
                <li><a href="./mercadorias.html">Estoque</a></li>
                <li><a href="./funcionarios.html">Médicos</a></li>
                <li><a href="./relatorio.html">Relatórios</a></li>
                <li><a href="">Vendas por item</a></li>
            </ul>

            <div class="clear"></div>
        </nav><!--.desktop-->

        <button onclick="animarMenu()" id="btn-menu">
            <span class="linha"></span>
            <span class="linha"></span>
            <span class="linha"></span>
        </button>

        <nav class="mobile" id="menu-mobile">
            <ul>
                <li><a href="./paginainicial.html">Boas vindas</a></li>
                <li><a href="./home.html">Página Inicial</a></li>
                <li><a href="./mercadorias.html">Estoque</a></li>
                <li><a href="./funcionarios.html">Médicos</a></li>
                <li><a href="./relatorio.html">Relatórios</a></li>
                <li><a href="">Vendas por item</a></li>
            </ul>

            <div class="clear"></div>
        </nav><!--.mobile-->
    </header>

    <div class="title-leitos"><h1>Estado dos Leitos</h1></div>
    <table>
        <tr>
            <th>Número do Leito</th>
            <th>Estado</th>
        </tr>
        <!-- Início da geração dos leitos -->
        <!-- Você pode copiar e colar estas linhas para adicionar mais leitos -->
        <tr>
            <td data-leito-id="1">Leito 1</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="2">Leito 2</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="3">Leito 3</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="4">Leito 4</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="5">Leito 5</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="6">Leito 6</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="7">Leito 7</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="8">Leito 8</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="9">Leito 9</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="10">Leito 10</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="11">Leito 11</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="12">Leito 12</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="13">Leito 13</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="14">Leito 14</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="15">Leito 15</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="16">Leito 16</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="17">Leito 17</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="18">Leito 18</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <tr>
            <td data-leito-id="19">Leito 19</td>
            <td class="leito-livre">Livre</td>
        </tr>
        <tr>
            <td data-leito-id="20">Leito 20</td>
            <td class="leito-ocupado">Ocupado</td>
        </tr>
        <!-- Fim da geração dos leitos -->
    </table>

    <div class="botao">
        <div class="botao-voltar">
            <a href="home.html">Voltar para a Página Inicial</a>
        </div><!--.botao-voltar-->
    </div><!--.botao-->
</body>
</html>
